# base-reporter [![NPM version](https://img.shields.io/npm/v/base-reporter.svg?style=flat)](https://www.npmjs.com/package/base-reporter) [![NPM downloads](https://img.shields.io/npm/dm/base-reporter.svg?style=flat)](https://npmjs.org/package/base-reporter) [![Build Status](https://img.shields.io/travis/node-base/base-reporter.svg?style=flat)](https://travis-ci.org/node-base/base-reporter)

Base application smart plugin for caching data and adding and running custom report functions.

## Install

Install with [npm](https://www.npmjs.com/):

```sh
$ npm install base-reporter --save
```

## Usage

```js
var reporter = require('base-reporter');
```

## API

### [reporter](index.js#L23)

Exposes smart plugin for adding a `reporter` instance to a base application.

**Params**

* `config` **{Object}**: Configuration object.
* `returns` **{Function}**: Plugin function to use with `app.use`

**Example**

```js
app.use(reporter());
```

### [.reporter.middleware](index.js#L65)

Creates a middleware function that can be used with application middleware methods.

**Params**

* `fn` **{String|Function}**: Pass a property string or function that will create a middleware function. Defaults to `files`.
* `returns` **{Function}**: Function that can be used as a middleware function.

**Example**

```js
// Default middleware will cache all files on the `reporter.files` array (can be accessed in report functions):
app.preWrite(/./, app.reporter.middleware());

// Pass a custom property string to cache files on another property:
app.preWrite(/./, app.reporter.middleware('templates'));

// Pass a custom function that creates the middleware function. The function will take the reporter instance:
app.preWrite(/./, app.reporter.middleware(function(reporter) {
  var counter = 0;
  return function(file, next) {
    reporter.union('files', file);
    reporter.set('counter', ++counter);
    next():
  };
}));
```

### [.reporter.add](index.js#L90)

Add a report function to the reporter with the given name. Function may take the reporter instance and options as parameters.

**Params**

* `name` **{String}**: Name of the reporter
* `fn` **{Function}**: report function to run when [.reporter.report(name)](#reporterreport) is called.
* `returns` **{Object}** `this`: to enable chaining

**Example**

```js
app.reporter.add('basic', function(reporter, options) {
  console.log(this.files);
});
```

### [.reporter.report](index.js#L108)

Run a registered report function with the given options.

**Params**

* `name` **{String}**: Name of the report to run.
* `returns` **{Object}** `this`: to enable chaining

**Example**

```js
app.reporter.report('basic', {foo: 'bar'});
//=> file1.js,file2.js,file3.js
```

## Contributing

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/node-base/base-reporter/issues/new).

## Building docs

Generate readme and API documentation with [verb](https://github.com/verbose/verb):

```sh
$ npm install verb && npm run docs
```

Or, if [verb](https://github.com/verbose/verb) is installed globally:

```sh
$ verb
```

## Running tests

Install dev dependencies:

```sh
$ npm install -d && npm test
```

## Author

**Brian Woodward**

* [github/doowb](https://github.com/doowb)
* [twitter/doowb](http://twitter.com/doowb)

## License

Copyright Â© 2016, [Brian Woodward](https://github.com/doowb).
Released under the [MIT license](https://github.com/node-base/base-reporter/blob/master/LICENSE).

***

_This file was generated by [verb](https://github.com/verbose/verb), v0.9.0, on June 16, 2016._